doctype html
html
  head
    title= title
    link(rel='stylesheet', href='https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css', integrity='sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T', crossorigin='anonymous')
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js', integrity='sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM', crossorigin='anonymous')
    link(rel='stylesheet', href='/stylesheets/style.css')
  body
    nav.navbar.navbar-expand-lg.navbar-light.bg-light
      a.navbar-brand(href='/users') Movie.Me
      button.navbar-toggler(type='button', data-toggle='collapse', data-target='#navbarNav', aria-controls='navbarNav', aria-expanded='false', aria-label='Toggle navigation')
        span.navbar-toggler-icon
      div.collapse.navbar-collapse#navbarNav
        ul.navbar-nav.ml-auto
          li.nav-item.active
            a.nav-link(href='/users') My Profile
          li.nav-item
            form(action='/logout', method='POST')
              button.btn.btn-link(type='submit') Sign Out
    div.container.my-4#search-container
      h1 Search Criteria
      table.table
        tbody
          tr
            th Search Type:
            td #{searchType}
          tr
            th Genre:
            td #{genre}
          tr
            th Year Range:
            td #{yearRange}
          tr
            th Actor:
            td #{actor}
          tr
            th Description:
            td #{description}
      div.container.my-4.container-recommended#results-container
        .row.row-cols-1.row-cols-sm-2.row-cols-md-3.row-cols-lg-4
          if recommendedMovies
            each movie in recommendedMovies
              .col.mb-4
                .card.h-100
                  img.card-img-top(src='https://via.placeholder.com/200x300?text=Movie+Poster', alt='Movie Poster', style='max-height: 200px; max-width: 100%;')
                  .card-body.text-center
                    h5.card-title.text-truncate= movie.title
                    p.card-text.text-muted.text-truncate= movie.year
                      span.card-text.text-muted.text-truncate= `- ${movie.genre}`
                    p.movie-description= movie.description
                    h6 Places to watch:
                    ul.list-group.list-group-flush
                      each location in movie.watchLocations
                        li.list-group-item(style='color: white;')= location
                    button.btn.btn-primary.btn-block.add-favorite-button(onclick=`addToWatchList(event, "${movie.title}", "${movie.year}", "${movie.genre}", "${movie.description}", ${JSON.stringify(movie.watchLocations)})`) Add to Watch List!
          else
            if error
              p.alert.alert-danger= error
            else
              p No recommendations found.
script(src='/javascripts/results.js')
